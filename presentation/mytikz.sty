\usepackage{tikz}
\usetikzlibrary{arrows,positioning,fit,shapes.multipart,decorations.pathmorphing,overlay-beamer-styles,petri}

\tikzset{
    p1/.style={circle, draw, thick, minimum size=6mm, inner sep=0},
    p2/.style={rectangle, draw, thick, minimum size=6mm, inner sep=0},
    pre/.style = {<-, semithick, >=stealth', shorten <=1pt},
    post/.style= {->, semithick, >=stealth', shorten >=1pt},
    node distance=1cm,
    shorten >=1pt,
    ncolor/.style={fill=color#1},
    emph-edge/.style={edge from parent/.style={very thick,color#1,draw}},
    no-emph/.style={opacity=0},
    %level/.style={sibling distance=4cm/#1},
    mytoken/.style={thick, double},
    tok/.style={alt=#1{mytoken}{}},
    ee/.style args={<#1>#2}{alt=<#1>{emph-edge=#2}{}},
    nc/.style args={<#1>#2}{alt=<#1>{ncolor=#2}{}},
    tok-here/.code={ \if\TokenIsIn#1
                        \pgfkeysalso{mytoken}
                    \else
                    \fi
                   },
  }

\xdefinecolor{color1}{rgb}{1.0, 0, 0}
\xdefinecolor{color2}{rgb}{0, 0, 1.0}

\newcommand{\TokenIsIn}{}
